var QnAList = [
    {
        q:"항상 정신없는 당신의 아침,<br>오늘의 아침메뉴는?",
        a:[
            {
                ans : '아침은 사치. 바쁘다 바빠!',
                type: ['화산석 동물복지 구운유정란','화산석 구운란','감동란']
            },
            {
                ans : '아침 굶는건 너무 힘들어. 간단하게라도 해먹고 나가야지!',
                type: ['영양란']
            },
            {
                ans : '한국인이라면 아침이 제일 중요하지. 아침은 무조건 든든하게~',
                type: ['구엄닭 방목유정란','NON-GMO 동물복지 유정란','동물복지 유정란']
            }
        ]
    },
    {
        q:"일정을 위해 집을 나선 당신<br>눈앞에 나타난 귀여운 강아지!",
        a:[
            {
                ans : '신경쓸 겨를 없다. 바쁘다 바빠 나는 나의 길을 간다!',
                type: ['감동란','영양란','동물복지 유정란','화산석 구운란']
            },
            {
                ans : '귀엽지만 눈으로만 담고 갈 길을 계속 간다.',
                type: ['구엄닭 방목유정란','NON-GMO 동물복지 유정란','동물복지 유정란','화산석 동물복지 구운유정란']
            },
            {
                ans : '한번이라도 쓰다듬어주고 간식이라도 챙겨주고 간다.',
                type: ['구엄닭 방목유정란','NON-GMO 동물복지 유정란','동물복지 유정란','화산석 동물복지 구운유정란']
            }
        ]
    },
    {
        q:"일정을 마치고 집으로 돌아가는 길,<br>냉장고에 계란이 똑 떨어진 게 생각났다!<br>계란 고를 때 당신의 선택은?",
        a:[
            {
                ans : '무조건 저렴한걸로!',
                type: ['영양란','화산석 구운란']
            },
            {
                ans : '조금 더 비싸더라도 유정란이 더 맛있고 좋지!',
                type: ['NON-GMO 동물복지 유정란','동물복지 유정란','화산석 동물복지 구운유정란']
            },
            {
                ans : '아무래도 토종닭이 낳은 비싼 계란이 제일 좋지 않겠어?',
                type: ['구엄닭 방목유정란']
            }
        ]
    },
    {
        q:"계란을 낳는 닭도 중요하다는 점원의 말에<br>당신의 생각은?",
        a:[
            {
                ans : '건강한 닭이 낳은 계란이라면 괜찮겠지',
                type: ['영양란','화산석 구운란','감동란']
            },
            {
                ans : '평사에서 자유롭게 뛰어놀던 닭이 낳은 계란이 아무래도 좋지!',
                type: ['NON-GMO 동물복지 유정란','동물복지 유정란','화산석 동물복지 구운유정란']
            },
            {
                ans : '아무래도 토종닭이 낳은 비싼 계란이 제일 좋지 않겠어?',
                type: ['구엄닭 방목유정란']
            }
        ]
    },
    {
        q:"이왕 고르는거 닭이 먹는 사료에 대한<br>궁금증이 든 당신",
        a:[
            {
                ans : '사료도 중요하긴 할 거 같은데 잘 모르겠어ㅠㅠ',
                type: ['영양란','화산석 구운란','감동란']
            },
            {
                ans : '사람도 먹는게 중요한데 닭도 좋은 사료 먹은게 아무래도 좋지 않을까?',
                type: ['동물복지 유정란','화산석 동물복지 구운유정란']
            },
            {
                ans : '난 아무거나 먹기 싫어! 당연히 좋은 거 먹고 자란 닭이 낳은 계란이 좋아!',
                type: ['구엄닭 방목유정란','NON-GMO 동물복지 유정란']
            }
        ]
    },
    {
        q:"장보기를 마친 후 드는 생각,<br>계란은 왜 이렇게 금방 먹는지ㅜㅜ",
        a:[
            {
                ans : '계란도 요구르트처럼 정기적으로 집 앞에 배송왔으면 좋겠어~',
                type: ['영양란','화산석 구운란','감동란','동물복지 유정란','화산석 동물복지 구운유정란','구엄닭 방목유정란','NON-GMO 동물복지 유정란']
            },
            {
                ans : '그래도 먹는건 눈으로 보고 사야지~',
                type: ['구엄닭 방목유정란','NON-GMO 동물복지 유정란','동물복지 유정란']
            },
            {
                ans : '애월아빠들 앱에서 필요할 때마다 주문해야지.',
                type: ['영양란','화산석 구운란','감동란','동물복지 유정란','화산석 동물복지 구운유정란','구엄닭 방목유정란','NON-GMO 동물복지 유정란']
            }
        ]
    },
    {
        q:" 열일하고 장까지 든든하게 본 뿌듯한 저녁. 당신의 저녁식사는..?",
        a:[
            {
                ans : '이미 오늘 하루 에너지 할당량 소진! 그릇 하나 설거지 할 힘도 없다.',
                type: ['화산석 동물복지 구운유정란','화산석 구운란','감동란']
            },
            {
                ans : '피곤하지만 밥은 먹어야지! 간단하게 해먹는다.',
                type: ['영양란']
            },
            {
                ans : '오늘 하루 고생한 나를 위해 최대한 진수성찬으로 요리해먹는다.',
                type: ['구엄닭 방목유정란','NON-GMO 동물복지 유정란','동물복지 유정란']
            }
        ]
    },
    {
        q:"하루를 마무리하고 침대에 누운 당신,<br>장을 보기 위해 켠 애월아빠들 앱에서<br>가장 중요하게 보는 것은?",
        a:[
            {
                ans : '오늘은 어떤걸 할인하나~? 선착순 특가 상품 확인.',
                type: ['영양란','화산석 구운란']
            },
            {
                ans : '제주에 없던 이번 신상품은 뭐가 있을까?',
                type: ['감동란']
            },
            {
                ans : '비싸더라도 퀄리티 좋아보이는 상품부터 손이 가~',
                type: ['구엄닭 방목유정란','NON-GMO 동물복지 유정란','동물복지 유정란','화산석 동물복지 구운유정란']
            }
        ]
    }
]
var typeList = [
    {
        type : "영양란",
        value : 0,
        anchor : "nutrition"
    },
    {
        type : "동물복지 유정란",
        value : 0,
        anchor : "cagefree"
    },
    {
        type : "NON-GMO 동물복지 유정란",
        value : 0,
        anchor : "nongmo"
    },
    {
        type : "화산석 구운란",
        value : 0,
        anchor : "volcanic"
    },
    {
        type : "화산석 동물복지 구운유정란",
        value : 0,
        anchor : "volcaniccagefree"
    },
    {
        type : "구엄닭 방목유정란",
        value : 0,
        anchor : "nutrition"
    },
    {
        type : "감동란",
        value : 0,
        anchor : "nutrition"
    }
]



let questionNum = 0;
let answerValue = []
function getQnA(){
    if(questionNum < QnAList.length){
        question.querySelector('.question').innerHTML = `${QnAList[questionNum].q}`
        let anwerList = []
        let getAnswer = ""
        for(i = 0; i < QnAList[questionNum].a.length; i++){
            anwerList.push(QnAList[questionNum].a[i].ans)
        }
        for(i = 0; i < anwerList.length; i++){
            getAnswer += `<button onclick="answerClick(this)">${anwerList[i]}</button>`
        }
        question.querySelector('.answer').innerHTML = getAnswer;
        question.querySelector('.qnaImg').innerHTML = `<img src="./img/${questionNum+1}.png" alt="">`;
        
        
        if(questionNum >= 1){
            console.log(QnAList[questionNum-1])
        }
        
        
        question.querySelector('.progressBar').innerText = `${questionNum+1}/${QnAList.length}`
        let gage = `${((questionNum+1)/QnAList.length)*100}%`
        question.querySelector('.progressBar').style.width = gage


        questionNum += 1;

    }
}
getQnA()



function answerClick(test){

    if(questionNum < QnAList.length){
        beforeQuestionNum = questionNum
        question.querySelector('.question').innerHTML = QnAList[questionNum].q
        let anwerList = []
        let getAnswer = ""
        for(i = 0; i < QnAList[questionNum].a.length; i++){
            anwerList.push(QnAList[questionNum].a[i].ans)
        }
        for(i = 0; i < anwerList.length; i++){
            getAnswer += `<button onclick="answerClick(this)">${anwerList[i]}</button>`
        }
        question.querySelector('.answer').innerHTML = getAnswer;
        question.querySelector('.qnaImg').innerHTML = `<img src="./img/${questionNum+1}.png" alt="">`;
        
        question.querySelector('.progressBar').innerText = `${questionNum+1}/${QnAList.length}`
        let gage = `${((questionNum+1)/QnAList.length)*100}%`
        question.querySelector('.progressBar').style.width = gage

        
        

    }
    

    if(questionNum >= 1 && questionNum <= QnAList.length){
        for(i = 0; i < QnAList[questionNum-1].a.length; i++){
            if(test.innerHTML === QnAList[questionNum-1].a[i].ans){
                console.log(answerValue.push(QnAList[questionNum-1].a[i].type))
                console.log(answerValue)
            }
        }
        questionNum += 1;


        if(questionNum > QnAList.length){
            console.log('결과 보여주기')
            for(i = 0; i < answerValue.length; i++){
                for (j = 0; j < answerValue[i].length; j++){
                    for(k = 0; k < typeList.length; k++){
                        if(typeList[k].type === answerValue[i][j]){
                            typeList[k].value += 1
                        }
                    }
                    console.log(answerValue[i][j])
                }
            }
            let valueResult;
            valueResult = typeList.sort(function (a, b){
                return a.value - b.value
                }
            )
            console.log(valueResult)
            console.log(valueResult.length)
            console.log(valueResult[valueResult.length-1])
            console.log(`당신에게 맞는 계란은${valueResult[valueResult.length-1].type}입니다!`)
            let resultAnchor = valueResult[valueResult.length-1].anchor
            location.href =`file:///Users/yoonjaekwon/Documents/GitHub/recommendEgg/result/${resultAnchor}.html`

        }




        return questionNum;
    }
    



    
}



